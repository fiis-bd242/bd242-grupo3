# 8.1. Sentencias SQL por módulo / prototipo


**Código Requerimiento:** R-001

**Código Interfaz:** I-001

**Imagen Interfaz**

![Proceso de Planificacion](../imagenes/btonsigipercsup.png)

**Sentencias SQL**

**Eventos:**

1. Boton siguiente:

	```sql
	-- Insertar un nuevo equipo evaluador con un ID generado automáticamente
	INSERT INTO equipo_evaluador (cant_empleados)
	VALUES (?, 0);
	
	-- Insertar empleados asociados al equipo evaluador usando nombres que serán reemplazados por el ID generado del equipo evaluador
	INSERT INTO equipoevaluadorxempleado (id_equipo_evaluador, id_empleado)
	SELECT ?, empleado.id_empleado
	FROM empleado
	WHERE empleado.nombre IN (<1>, <2>, <3>)
	ON CONFLICT DO NOTHING;
	
	-- Actualizar la cantidad de empleados en el equipo evaluador con ID generado
	UPDATE equipo_evaluador
	SET cant_empleados = (SELECT COUNT(*)
	                      FROM equipoevaluadorxempleado
	                      WHERE id_equipo_evaluador = ?)
	WHERE id_equipo_evaluador = ?;
	
	-- Insertar un nuevo proceso asociado al equipo evaluador
	INSERT INTO proceso (id_proceso, id_equipo_evaluador, descripcion_proceso)
	VALUES (?, ?, <4>);
	
	-- Insertar datos en la tabla Informe_IPERC usando el ID de proceso generado y otros valores proporcionados
	INSERT INTO Informe_IPERC (id_informe_iperc, fecha_registro, cant_riesgos_analizados, unidad_minera, area, id_proceso)
	VALUES (?, <6>, 0, <5>, <7>, ?);
	```

 	Donde:

	|  | Descripción                                           |
	|-------------|-------------------------------------------------------|
	| `?`         | ID generado automáticamente para el equipo evaluador, proceso, y informe |
	| `<1>`       | Nombre del primer empleado asociado al equipo evaluador |
	| `<2>`       | Nombre del segundo empleado asociado al equipo evaluador |
	| `<3>`       | Nombre del tercer empleado asociado al equipo evaluador |
	| `<4>`       | Descripción del proceso asociado al equipo evaluador  |
	| `<5>`       | Nombre de la unidad minera en Informe_IPERC           |
	| `<6>`       | Fecha de registro en Informe_IPERC (formato: 'YYYY-MM-DD') |
	| `<7>`       | Área de trabajo en Informe_IPERC                      |



	
**Código Requerimiento:** R-001

**Código Interfaz:** I-001

**Imagen Interfaz**

 ![Proceso de Planificacion](../imagenes/2pantallaIPERC.png)
