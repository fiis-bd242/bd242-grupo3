# 4.6. Módulo 6

# Módulo 6: Gestón de seguridad y usuario

# Requerimientos por casos de uso

### Caso de uso: Ingreso de credenciales (Login)

| **Nombre**         | Ingreso de credenciales al sistema |
|--------------------|------------------------------------|
| **Tarea realizada por el usuario** | Autenticarse en el sistema mediante la introducción de credenciales válidas (ID y contraseña). |
| **Actor inicializador** | Usuario (Usuario comun, Administrador, etc.) |
| **Actores participantes** | Sistema automatico, usuario |

#### Flujo de eventos:

| Paso | Acción |
|------|--------|
| 1    | El usuario accede a la página de inicio de sesión del sistema. |
| 2    | El sistema solicita las credenciales de inicio de sesión: ID y contraseña. |
| 3    | El usuario ingresa la ID y la contraseña. |
| 4    | El sistema valida las credenciales ingresadas. |
| 5    | Si las credenciales son correctas, el sistema otorga acceso al usuario y redirige a la página principal. |
| 6    | El caso de uso termina. |

#### Excepciones:

| Paso | Excepción |
|------|-----------|
| 4a   | Si las credenciales son incorrectas, el sistema muestra un mensaje de error e invita al usuario a reingresar los datos. |
| 4b   | Si el usuario introduce credenciales incorrectas en tres intentos, el sistema bloquea temporalmente la cuenta y envía un correo electrónico para restablecer la contraseña. |
| 2a   | Si el sistema está en mantenimiento, se muestra un mensaje indicando que el sistema no está disponible temporalmente. |

#### Precondición:

- El usuario debe estar registrado en el sistema con credenciales válidas.

#### Postcondición:

- El usuario tiene acceso al sistema si las credenciales son correctas.

#### Casos de uso incluidos:

- Ninguno.

#### Requisitos no funcionales:

- Interfaz intuitiva y accesible 
- Seguridad en la gestión de credenciales y en el acceso a los datos.


### Caso de uso 2: Autenticación en dos pasos (2FA)

| **Nombre**         | Autenticación en dos pasos |
|--------------------|---------------------------|
| **Tarea realizada por el usuario** | Verificar su identidad a través de un segundo factor de autenticación, además de la contraseña. |
| **Actor inicializador** | Usuario (usuario común, Administrador, etc.) |
| **Actores participantes** | Sistema automatico |

#### Flujo de eventos:

| Paso | Acción |
|------|--------|
| 1    | El usuario accede al sistema con su ID y contraseña. |
| 2    | El sistema valida las credenciales de inicio de sesión (login). |
| 3    | Si las credenciales son correctas, el sistema solicita un segundo factor de autenticación (código temporal). |
| 4    | El usuario recibe un código de verificación a través de su dispositivo móvil (SMS). |
| 5    | El usuario ingresa el código de verificación en el sistema. |
| 6    | El sistema valida el código ingresado. |
| 7    | Si el código es correcto, el sistema otorga acceso completo al usuario. |
| 8    | El caso de uso termina. |

#### Excepciones:

| Paso | Excepción |
|------|-----------|
| 4a   | Si el usuario no recibe el código, puede solicitar el reenvío del mismo. |
| 5b   | Si el usuario falla en 3 intentos consecutivos, el sistema notifica al administrador por correo electronico para que solucione el caso. |
| 6a   | Si el código ingresado es incorrecto, el sistema muestra un mensaje de error y solicita al usuario que lo reingrese.|


#### Precondición:

- El usuario debe estar registrado en el sistema y tener habilitada la autenticación en dos pasos.

#### Postcondición:

- El usuario obtiene acceso completo al sistema tras una verificación exitosa del segundo factor de autenticación.

#### Casos de uso incluidos:

- **Caso de uso 1: Ingreso de credenciales (Login)**

#### Requisitos no funcionales:

- Interfaz intuitiva y fácil de usar para el ingreso del código de verificación.
- Envío rápido y seguro de los códigos de verificación.
- Acceso a la autenticación de dos pasos desde dispositivos móviles.

### Caso de uso 3: Recuperar contraseña

| **Nombre**         | Recuperación de contraseña |
|--------------------|----------------------------|
| **Tarea realizada por el usuario** | Solicitar la recuperación de una contraseña olvidada y establecer una nueva. |
| **Actor inicializador** | Usuario (Supervisor, Administrador, etc.) |
| **Actores participantes** | Sistema de autenticación, Proveedor de correo electrónico o autenticación de recuperación |

| **Flujo de eventos** | 
| 1. El usuario accede a la página de inicio de sesión y selecciona la opción "Olvidé mi contraseña". |
| 2. El sistema solicita al usuario ingresar su dirección de correo electrónico asociada a la cuenta. |
| 3. El usuario ingresa su dirección de correo electrónico. |
| 4. El sistema verifica que el correo electrónico esté registrado en el sistema. |
| 5. El sistema envía un enlace de restablecimiento de contraseña al correo electrónico proporcionado. |
| 6. El usuario recibe el correo y hace clic en el enlace de recuperación. |
| 7. El sistema redirige al usuario a una página donde puede ingresar una nueva contraseña. |
| 8. El usuario ingresa y confirma su nueva contraseña. |
| 9. El sistema valida la nueva contraseña y la actualiza en el perfil del usuario. |
| 10. El caso de uso termina. |

| **Excepciones** | 
| 1. Si el correo electrónico no está registrado, el sistema muestra un mensaje de error indicando que no se encontró una cuenta asociada. |
| 2. Si el correo electrónico no llega, el usuario puede solicitar el reenvío del enlace de recuperación. |
| 3. Si la nueva contraseña no cumple con los requisitos de seguridad, el sistema solicita al usuario que ingrese una contraseña válida. |
| 4. Si el enlace de recuperación ha expirado, el sistema notifica al usuario y permite solicitar un nuevo enlace. |

| **Precondición**  | El usuario debe tener una cuenta registrada en el sistema con una dirección de correo electrónico válida. |

| **Postcondición** | El usuario puede iniciar sesión con la nueva contraseña. |

| **Casos de uso incluidos** | Ninguno. |

| **Requisitos no funcionales** | 
| 1. Interfaz intuitiva y accesible desde dispositivos móviles para la solicitud y restablecimiento de contraseña. |
| 2. Seguridad en el envío del enlace de recuperación y la creación de la nueva contraseña. |

